
<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Φιδάκι για 4 Παίκτες</title>
  <style>
    body { font-family: Arial; text-align: center; background: #eaf6ff; }
    #board { display: grid; grid-template-columns: repeat(20, 35px); margin: 20px auto; direction: rtl; }
    .cell {
      width: 35px; height: 35px; border: 1px solid #ccc;
      display: flex; align-items: center; justify-content: center;
      font-size: 10px; position: relative;
      background-color: #fdfdfd;
    }
    .player1, .player2, .player3, .player4 {
      width: 14px; height: 14px; border-radius: 50%; position: absolute;
    }
    .player1 { background: orange; top: 2px; left: 2px; }
    .player2 { background: blue; top: 2px; right: 2px; }
    .player3 { background: green; bottom: 2px; left: 2px; }
    .player4 { background: red; bottom: 2px; right: 2px; }

    .snake::after {
      content: "🐍";
      position: absolute;
      bottom: 2px;
      right: 2px;
    }
    .ladder::after {
      content: "🪜";
      position: absolute;
      top: 2px;
      left: 2px;
    }
    button { padding: 10px 20px; margin: 10px; font-size: 16px; }
  </style>
</head>
<body>
  <h1>🐍 Φιδάκι - Έως 4 Παίκτες</h1>
  <div id="board"></div>
  <button onclick="rollDice()">🎲 Ρίξε το ζάρι</button>
  <button onclick="resetGame()">🔁 Ξεκίνα από την αρχή</button>
  <p id="status">Ξεκινάει ο Παίκτης 1 (🟠)</p>
  <script>
    const board = document.getElementById('board');
    const status = document.getElementById('status');
    const size = 500;
    const players = 4;
    let positions = new Array(players).fill(0);
    let currentPlayer = 0;

    const snakes = { 488: 302, 410: 311, 357: 249, 276: 142, 230: 111 };
    const ladders = { 5: 45, 32: 84, 91: 151, 123: 201, 190: 300, 305: 399 };

    function createBoard() {
      board.innerHTML = '';
      for (let i = size - 1; i >= 0; i--) {
        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.id = 'cell-' + i;
        cell.innerText = i + 1;
        if (snakes[i]) cell.classList.add('snake');
        if (ladders[i]) cell.classList.add('ladder');
        board.appendChild(cell);
      }
    }

    function updateBoard() {
      for (let i = 0; i < size; i++) {
        const cell = document.getElementById('cell-' + i);
        cell.innerHTML = (i + 1).toString();
        if (snakes[i]) cell.classList.add('snake');
        if (ladders[i]) cell.classList.add('ladder');
      }

      positions.forEach((pos, idx) => {
        const token = document.createElement('div');
        token.className = 'player' + (idx + 1);
        document.getElementById('cell-' + pos).appendChild(token);
      });
    }

    function rollDice() {
      const roll = Math.floor(Math.random() * 6) + 1;
      let pos = positions[currentPlayer] + roll;
      if (pos >= size) pos = size - 1;

      if (snakes[pos] !== undefined) {
        pos = snakes[pos];
      } else if (ladders[pos] !== undefined) {
        pos = ladders[pos];
      }

      positions[currentPlayer] = pos;
      updateBoard();

      if (pos === size - 1) {
        status.innerText = `🎉 Νίκησε ο Παίκτης ${currentPlayer + 1}!`;
        return;
      }

      currentPlayer = (currentPlayer + 1) % players;
      const colors = ["🟠", "🔵", "🟢", "🔴"];
      status.innerText = `🎲 Έριξε: ${roll} – Τώρα παίζει ο Παίκτης ${currentPlayer + 1} (${colors[currentPlayer]})`;
    }

    function resetGame() {
      positions = new Array(players).fill(0);
      currentPlayer = 0;
      createBoard();
      updateBoard();
      status.innerText = 'Ξεκινάει ο Παίκτης 1 (🟠)';
    }

    createBoard();
    updateBoard();
  </script>
</body>
</html>
