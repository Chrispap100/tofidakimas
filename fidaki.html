
<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Φιδάκι 100 Θέσεων</title>
  <style>
    body { font-family: Arial; text-align: center; background-color: #f5faff; }
    #board { display: grid; grid-template-columns: repeat(10, 40px); margin: 20px auto; direction: rtl; }
    .cell {
      width: 40px; height: 40px; border: 1px solid #ccc;
      display: flex; align-items: center; justify-content: center;
      font-size: 11px; position: relative; background: #fff;
    }
    .snake::after { content: "🐍"; position: absolute; bottom: 2px; right: 2px; }
    .ladder::after { content: "🪜"; position: absolute; top: 2px; left: 2px; }
    .player { width: 14px; height: 14px; border-radius: 50%; position: absolute; }
    button, select, input { padding: 8px 12px; margin: 6px; font-size: 14px; }
    #chat-box { width: 300px; height: 150px; margin: 10px auto; border: 1px solid #aaa; overflow-y: scroll; background: #fff; text-align: left; padding: 5px; }
    #chat-input { width: 200px; }
  </style>
</head>
<body>
  <h1>🐍 Φιδάκι – 100 Θέσεων</h1>

  <div>
    Παίκτες: 
    <select id="playerCount">
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
    </select>
    <button onclick="startGame()">Ξεκίνημα</button>
  </div>

  <div id="board"></div>
  <p id="status">Οδηγίες: Επέλεξε αριθμό παικτών και πάτα Ξεκίνημα.</p>
  <button onclick="rollDice()">🎲 Ρίξε Ζάρι</button>
  <button onclick="resetGame()">🔁 Reset</button>

  <div id="chat-box"></div>
  <input type="text" id="chat-input" placeholder="Γράψε κάτι...">
  <button onclick="sendMessage()">📨</button>

  <script>
    const colors = ["orange", "blue", "green", "red", "purple", "brown"];
    const emojis = ["🟠", "🔵", "🟢", "🔴", "🟣", "🟤"];
    let playerCount = 2;
    let positions = [];
    let currentPlayer = 0;
    const size = 100;
    const snakes = { 97: 78, 88: 24, 62: 19, 54: 34, 25: 5 };
    const ladders = { 3: 22, 6: 45, 20: 59, 36: 55, 63: 95 };
    const chatBox = document.getElementById("chat-box");

    function createBoard() {
      const board = document.getElementById("board");
      board.innerHTML = '';
      for (let i = size - 1; i >= 0; i--) {
        const cell = document.createElement("div");
        cell.className = "cell";
        cell.id = "cell-" + i;
        cell.innerText = i + 1;
        if (snakes[i]) cell.classList.add("snake");
        if (ladders[i]) cell.classList.add("ladder");
        board.appendChild(cell);
      }
    }

    function updateBoard() {
      for (let i = 0; i < size; i++) {
        const cell = document.getElementById("cell-" + i);
        cell.innerHTML = (i + 1).toString();
        if (snakes[i]) cell.classList.add("snake");
        if (ladders[i]) cell.classList.add("ladder");
      }
      positions.forEach((pos, idx) => {
        const token = document.createElement("div");
        token.className = "player";
        token.style.background = colors[idx];
        document.getElementById("cell-" + pos).appendChild(token);
      });
    }

    function rollDice() {
      const roll = Math.floor(Math.random() * 6) + 1;
      let pos = positions[currentPlayer] + roll;
      if (pos >= size) pos = size - 1;

      if (snakes[pos] !== undefined) pos = snakes[pos];
      else if (ladders[pos] !== undefined) pos = ladders[pos];

      positions[currentPlayer] = pos;
      updateBoard();

      if (pos === size - 1) {
        document.getElementById("status").innerText = `🏆 Νίκησε ο Παίκτης ${currentPlayer + 1}!`;
        return;
      }

      currentPlayer = (currentPlayer + 1) % playerCount;
      document.getElementById("status").innerText = `🎲 Παίζει ο Παίκτης ${currentPlayer + 1} (${emojis[currentPlayer]})`;
    }

    function resetGame() {
      startGame();
    }

    function startGame() {
      playerCount = parseInt(document.getElementById("playerCount").value);
      positions = new Array(playerCount).fill(0);
      currentPlayer = 0;
      createBoard();
      updateBoard();
      document.getElementById("status").innerText = `🎮 Ξεκινάει ο Παίκτης 1 (${emojis[0]})`;
    }

    function sendMessage() {
      const input = document.getElementById("chat-input");
      const msg = input.value.trim();
      if (msg !== "") {
        chatBox.innerHTML += `<div>💬 Παίκτης ${currentPlayer + 1}: ${msg}</div>`;
        chatBox.scrollTop = chatBox.scrollHeight;
        input.value = "";
      }
    }

    createBoard();
  </script>
</body>
</html>
